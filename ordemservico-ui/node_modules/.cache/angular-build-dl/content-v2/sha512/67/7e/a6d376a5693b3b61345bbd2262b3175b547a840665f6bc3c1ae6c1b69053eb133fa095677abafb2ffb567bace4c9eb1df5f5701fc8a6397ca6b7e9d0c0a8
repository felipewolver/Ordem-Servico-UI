(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"R/OS":function(e,t,i){"use strict";i.r(t),i.d(t,"OsModule",(function(){return Re}));var n=i("ofXK"),s=i("tyNb"),o=i("TVxV"),a=i("+Q5f"),r=i("fXoL"),l=i("7zfz"),c=i("DLzb"),d=i("Tulk"),u=i("3Pt+"),h=i("rEr+"),b=i("xlun");const p=["tabela"];function m(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"th",20),r.Ac(2,"Num. OS"),r.Pb(),r.Qb(3,"th",21),r.Ac(4,"Pessoa"),r.Pb(),r.Qb(5,"th",21),r.Ac(6,"Equipamento"),r.Pb(),r.Qb(7,"th",22),r.Ac(8,"Categoria"),r.Pb(),r.Qb(9,"th",23),r.Ac(10,"Status"),r.Pb(),r.Qb(11,"th",23),r.Ac(12,"Data de Recebimento"),r.Pb(),r.Qb(13,"th",23),r.Ac(14,"Data de Entrega"),r.Pb(),r.Qb(15,"th",23),r.Ac(16,"Valor"),r.Pb(),r.Lb(17,"th",24),r.Pb())}function g(e,t){if(1&e){const e=r.Rb();r.Qb(0,"button",29),r.Xb("click",(function(){r.sc(e);const t=r.Zb().$implicit;return r.Zb().confirmarExclusao(t)})),r.Qb(1,"i",27),r.Ac(2,"delete_forever"),r.Pb(),r.Pb()}}const f=function(e){return["/ordem-servicos",e]};function v(e,t){if(1&e&&(r.Qb(0,"tr",25),r.Qb(1,"td"),r.Ac(2),r.Pb(),r.Qb(3,"td"),r.Ac(4),r.Pb(),r.Qb(5,"td"),r.Ac(6),r.Pb(),r.Qb(7,"td"),r.Ac(8),r.Pb(),r.Qb(9,"td"),r.Ac(10),r.Pb(),r.Qb(11,"td"),r.Ac(12),r.ac(13,"date"),r.Pb(),r.Qb(14,"td"),r.Ac(15),r.ac(16,"date"),r.Pb(),r.Qb(17,"td"),r.Ac(18),r.ac(19,"currency"),r.Pb(),r.Qb(20,"td"),r.Qb(21,"a",26),r.Qb(22,"i",27),r.Ac(23,"edit"),r.Pb(),r.Pb(),r.yc(24,g,3,0,"button",28),r.Pb(),r.Pb()),2&e){const e=t.$implicit,i=r.Zb();r.zb(2),r.Bc(e.os),r.zb(2),r.Bc(e.pessoa.nome),r.zb(2),r.Bc(e.equipamento),r.zb(2),r.Bc(e.categoria.nome),r.zb(2),r.Bc(e.status.descricao),r.zb(2),r.Bc(r.bc(13,10,e.dataRecebimento,"dd/MM/y")),r.zb(3),r.Bc(r.bc(16,13,e.dataEntrega,"dd/MM/y")),r.zb(3),r.Bc(r.bc(19,16,e.valor,"BRL")),r.zb(3),r.fc("routerLink",r.ic(19,f,e.os)),r.zb(3),r.fc("ngIf",i.segurancaService.temPermissao("ROLE_REMOVER_OS"))}}function S(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"td",30),r.Ac(2,"Nenhuma Ordem de Servi\xe7o encontrada..."),r.Pb(),r.Pb())}let w=(()=>{class e{constructor(e,t,i,n,s){this.osService=e,this.messageService=t,this.confirmationService=i,this.errorHandler=n,this.segurancaService=s,this.osFilter=new a.a,this.totalRegistros=0,this.ordemServicos=[]}ngOnInit(){this.executarDatePicker()}pesquisar(e=0){this.osFilter.pagina=e,this.osService.pesquisarOs(this.osFilter).then(e=>{this.ordemServicos=e.ordemServicos,this.totalRegistros=e.total}).catch(e=>this.errorHandler.handle(e))}aoMudarPagina(e){this.pesquisar(e.first/e.rows)}confirmarExclusao(e){this.confirmationService.confirm({message:"Tem certeza que deseja remover OS de num. "+e.os+"?",accept:()=>{this.excluir(e)}})}excluir(e){this.osService.excluirOs(e.os).then(()=>{this.grid.reset(),this.messageService.add({severity:"success",detail:"OS exclu\xedda com sucesso."})}).catch(e=>this.errorHandler.handle(e))}executarDatePicker(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".datepicker");o.Datepicker.init(e,{format:"yyyy-mm-dd",i18n:{labelMonthNext:"Pr\xf3ximo m\xeas",months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Ma","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],weekdaysAbbrev:["D","S","T","Q","Q","S","S"],cancel:"Cancelar"}})}))}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(a.b),r.Kb(l.d),r.Kb(l.a),r.Kb(c.a),r.Kb(d.a))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-os-pesquisa"]],viewQuery:function(e,t){var i;1&e&&r.wc(p,!0),2&e&&r.qc(i=r.Yb())&&(t.grid=i.first)},decls:38,vars:10,consts:[[1,"container"],[1,"col","s12"],[1,"row"],[3,"submit"],[1,"col","input-field","s12","l6","offset-l6","pull-l6"],["type","text","name","equipamento",3,"ngModel","ngModelChange","keyup"],["for",""],[1,"col","s6","l3"],["type","date","name","dataRecebimentoInicio",3,"ngModel","ngModelChange"],[1,"col","s6","l3","offset-l6","pull-l6"],["type","date","name","dataRecebimentoFim",3,"ngModel","ngModelChange"],["type","submit",1,"btn","waves-effect","waves-light","btn-small"],[1,"material-icons","right"],["columnResizeMode","expand",3,"value","paginator","responsive","rows","lazy","totalRecords","resizableColumns","onLazyLoad"],["tabela",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col","s5","offset-s7","offset-l10"],["routerLink","/ordem-servicos/novo",1,"botao-margin-os","btn","waves-effect","waves-light","btn-small"],[1,"td-num-os"],[1,"td-nome-os"],[1,"td-categoria-os"],[1,"td-status-os"],[1,"td-botoes-os"],[1,"linha-body"],["pTooltip","Editar","tooltipPosition","top",1,"btn","waves-effect","waves-light","btn-medium",3,"routerLink"],[1,"material-icons","center"],["class","td-botoes-margin btn waves-effect waves-light btn-medium","pTooltip","Excluir","tooltipPosition","bottom",3,"click",4,"ngIf"],["pTooltip","Excluir","tooltipPosition","bottom",1,"td-botoes-margin","btn","waves-effect","waves-light","btn-medium",3,"click"],["colspan","7"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h1"),r.Ac(3," Ordem de Servi\xe7os "),r.Pb(),r.Pb(),r.Qb(4,"div",2),r.Qb(5,"form",3),r.Xb("submit",(function(){return t.pesquisar()})),r.Qb(6,"div",2),r.Qb(7,"div",4),r.Qb(8,"input",5),r.Xb("ngModelChange",(function(e){return t.osFilter.equipamento=e}))("keyup",(function(){return t.pesquisar()})),r.Pb(),r.Qb(9,"label",6),r.Ac(10,"Equipamento"),r.Pb(),r.Pb(),r.Qb(11,"div",7),r.Qb(12,"input",8),r.Xb("ngModelChange",(function(e){return t.osFilter.dataRecebimentoInicio=e})),r.Pb(),r.Qb(13,"label",6),r.Ac(14,"Recebimento de"),r.Pb(),r.Pb(),r.Qb(15,"div",9),r.Qb(16,"input",10),r.Xb("ngModelChange",(function(e){return t.osFilter.dataRecebimentoFim=e})),r.Pb(),r.Qb(17,"label",6),r.Ac(18,"At\xe9"),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"div",2),r.Qb(20,"div",1),r.Qb(21,"button",11),r.Qb(22,"i",12),r.Ac(23,"search"),r.Pb(),r.Ac(24," Pesquisar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",2),r.Qb(26,"div",1),r.Qb(27,"p-table",13,14),r.Xb("onLazyLoad",(function(e){return t.aoMudarPagina(e)})),r.yc(29,m,18,0,"ng-template",15),r.yc(30,v,25,21,"ng-template",16),r.yc(31,S,3,0,"ng-template",17),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",2),r.Qb(33,"div",18),r.Qb(34,"button",19),r.Qb(35,"i",12),r.Ac(36,"add_circle"),r.Pb(),r.Ac(37," Nova OS "),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(8),r.fc("ngModel",t.osFilter.equipamento),r.zb(4),r.fc("ngModel",t.osFilter.dataRecebimentoInicio),r.zb(4),r.fc("ngModel",t.osFilter.dataRecebimentoFim),r.zb(11),r.fc("value",t.ordemServicos)("paginator",!0)("responsive",!0)("rows",t.osFilter.itensPorPagina)("lazy",!0)("totalRecords",t.totalRegistros)("resizableColumns",!0))},directives:[u.l,u.h,u.i,u.a,u.g,u.j,h.a,l.e,s.c,s.d,b.a,n.m],pipes:[n.e,n.c],styles:[""]}),e})();var y=i("uEA4"),P=i("cxbk"),E=i("tk/3");let M=(()=>{class e{constructor(e){this.httpCliente=e,this.statusUrl=P.a.apiUrlProd+"/status"}listarStatus(){return this.httpCliente.get(this.statusUrl).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(E.b))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var R=i("q5YL"),z=i("G/4H"),x=i("jhN1"),A=i("arFO"),C=i("oA9F"),Q=function(e){return e[e.FINANCIAL=0]="FINANCIAL",e[e.NATURAL=1]="NATURAL",e}({});let k=new r.q("currency.mask.config");class I{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||n||s}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){let n=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange();o.moveToBookmark(i.getBookmark());let a=this.htmlInputElement.createTextRange();a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1?e=t=n:(e=-o.moveStart("character",-n),e+=s.slice(0,e).split("\n").length-1,o.compareEndPoints("EndToEnd",a)>-1?t=n:(t=-o.moveEnd("character",-n),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class O{constructor(e,t){this.htmlInputElement=e,this.options=t,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new I(e),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(e){const{decimal:t,precision:i,inputMode:n}=this.options;let s=String.fromCharCode(e);const o=s===this.options.decimal;if(this.rawValue){let e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;const a=this.rawValue.substring(0,e);let r=this.rawValue.substring(i,this.rawValue.length);const l=-1!==a.indexOf(t);n===Q.NATURAL&&l&&e===i&&(r=r.substring(1));const c=a+s+r;let d=e+1;if(!o&&s!==this.options.thousands||s!==r[0]){if(!this.SINGLE_DIGIT_REGEX.test(s))return}else d++;this.rawValue=c,this.updateFieldValue(d)}else{this.rawValue=this.applyMask(!1,s);let e=void 0;n===Q.NATURAL&&i>0&&(e=this.rawValue.indexOf(t),o&&e++),this.updateFieldValue(e)}}applyMask(e,t,i=!1){let{allowNegative:n,decimal:s,precision:o,prefix:a,suffix:r,thousands:l,min:c,max:d,inputMode:u}=this.options,h=(t=e?new Number(t).toFixed(o):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!h&&t!==s)return"";u!==Q.NATURAL||e||i||(h=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));let b=h.slice(0,h.length-o).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==b&&(b="0");let p=parseInt(b);b=b.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,l),l&&b.startsWith(l)&&(b=b.substring(1));let m=b,g=h.slice(h.length-o),f=parseInt(g)||0,v=t.indexOf("-")>-1;d=this.isNullOrUndefined(d)||this.isNullOrUndefined(c)?d:Math.max(d,c);let S=p+f/100;return S=v?-S:S,!this.isNullOrUndefined(d)&&S>d?this.applyMask(!0,d+""):!this.isNullOrUndefined(c)&&S<c?this.applyMask(!0,c+""):(o>0&&(m+="0"==m&&g.length<o?s+"0".repeat(o-1)+g:s+g),(v&&n&&0!=S?"-":"")+a+m+r)}padOrTrimPrecision(e){let{decimal:t,precision:i}=this.options,n=e.lastIndexOf(t);-1===n&&(n=e.length,e+=t);let s=e.substring(n).replace(this.ONLY_NUMBERS_REGEX,"");const o=s.length;if(o<i)for(let a=o;a<i;a++)s+="0";else o>i&&(s=s.substring(0,s.length+i-o));return e.substring(0,n)+t+s}clearMask(e){if(this.isNullable()&&""===e)return null;let t=(e||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((e,i)=>{const n=new RegExp(i,"g");t=t.replace(n,e)}),parseFloat(t)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(e){let{decimal:t,thousands:i,prefix:n,suffix:s,inputMode:o}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let a=this.inputSelection.selectionEnd,r=this.inputSelection.selectionStart;const l=this.rawValue.length-s.length;if(a=Math.min(l,Math.max(a,n.length)),r=Math.min(l,Math.max(r,n.length)),r===a&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(r);let c=this.rawValue.indexOf(t);-1===c&&(c=this.rawValue.length);let d=0,u="";if(a===r)if(8==e){if(r<=n.length)return;r--,this.rawValue.substr(r,1).match(/\d/)||r--,o===Q.NATURAL&&c<a&&(d=-1)}else if(46==e||63272==e){if(r===l)return;a++,this.rawValue.substr(r,1).match(/\d/)||(r++,a++)}if(o===Q.NATURAL&&r>c){const e=a-r;for(let t=0;t<e;t++)u+="0"}let h=this.rawValue.length-a;this.rawValue=this.rawValue.substring(0,r)+u+this.rawValue.substring(a),this.rawValue.substr(n.length,1)===i&&(this.rawValue=this.rawValue.substring(0,n.length)+this.rawValue.substring(n.length+1),h=Math.min(h,this.rawValue.length-n.length)),this.updateFieldValue(this.rawValue.length-h+d,!0)}updateFieldValue(e,t=!1){let i=this.applyMask(!1,this.rawValue||"",t);e=null==e?this.rawValue.length:e,e=Math.max(this.options.prefix.length,Math.min(e,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,e)}updateOptions(e){let t=this.value;this.options=e,this.value=t}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}isNullOrUndefined(e){return null==e}}class L{constructor(e,t){this.inputService=new O(e,t)}handleCut(e){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){let t=this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length-1),i=this.inputService.rawValue.length,n=this.inputService.inputSelection.selectionEnd,s=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==n&&1==Math.abs(i-s)){if(i<s&&this.inputService.removeNumber(8),i>s)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers)return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){let t=e.which||e.charCode||e.keyCode;8!=t&&46!=t&&63272!=t||(e.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(e){let t=e.which||e.charCode||e.keyCode;if(e.preventDefault(),97!==t||!e.ctrlKey){switch(t){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(t))}this.onModelChange(this.inputService.value)}}handlePaste(e){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}setCursorPosition(e){setTimeout((function(){e.target.setSelectionRange(e.target.value.length,e.target.value.length)}),0)}}const V={provide:u.f,useExisting:Object(r.T)(()=>D),multi:!0};let D=(()=>{let e=class{constructor(e,t,i){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:Q.FINANCIAL},e&&(this.optionsTemplate=e),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new L(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(e){this.inputHandler.getOnModelTouched().apply(e)}handleCut(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(e)}handleInput(e){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(e)}handleKeydown(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(e)}handleKeypress(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(e)}handlePaste(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(e)}handleDrop(e){this.isChromeAndroid()||e.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(e){this.inputHandler.setOnModelChange(e)}registerOnTouched(e){this.inputHandler.setOnModelTouched(e)}setDisabledState(e){this.elementRef.nativeElement.disabled=e}writeValue(e){this.inputHandler.setValue(e)}};return e.\u0275fac=function(t){return new(t||e)(r.Kb(k,8),r.Kb(r.l),r.Kb(r.u))},e.\u0275dir=r.Fb({type:e,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&r.Xb("blur",(function(e){return t.handleBlur(e)}))("cut",(function(e){return t.handleCut(e)}))("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)}))("keypress",(function(e){return t.handleKeypress(e)}))("paste",(function(e){return t.handlePaste(e)}))("drop",(function(e){return t.handleDrop(e)}))},inputs:{options:"options"},features:[r.yb([V])]}),e})();var T;let N=(()=>{let e=T=class{static forRoot(e){return{ngModule:T,providers:[{provide:k,useValue:e}]}}};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b,u.c]]}),e})();var _=i("7CaW"),F=i("R0Ic"),X=i("YyRF");let B=(()=>{let e=class{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let t=X.a.getFocusableElements(this.el.nativeElement);if(t&&t.length>0)if(document.activeElement){let i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}};return e.\u0275fac=function(t){return new(t||e)(r.Kb(r.l))},e.\u0275dir=r.Fb({type:e,selectors:[["","pFocusTrap",""]],hostBindings:function(e,t){1&e&&r.Xb("keydown.tab",(function(e){return t.onkeydown(e)}))("keydown.shift.tab",(function(e){return t.onkeydown(e)}))},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),e})(),q=(()=>{let e=class{};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})();const U=["titlebar"],H=["content"],Z=["footer"];function K(e,t){if(1&e&&(r.Qb(0,"span",15),r.Ac(1),r.Pb()),2&e){const e=r.Zb(4);r.Ab("id",e.id+"-label"),r.zb(1),r.Bc(e.header)}}function Y(e,t){if(1&e&&(r.Qb(0,"span",15),r.dc(1,1),r.Pb()),2&e){const e=r.Zb(4);r.Ab("id",e.id+"-label")}}const j=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all":!0}};function G(e,t){if(1&e){const e=r.Rb();r.Qb(0,"a",16),r.Xb("click",(function(){return r.sc(e),r.Zb(4).maximize()}))("keydown.enter",(function(){return r.sc(e),r.Zb(4).maximize()})),r.Lb(1,"span",1),r.Pb()}if(2&e){const e=r.Zb(4);r.fc("ngClass",r.hc(2,j)),r.zb(1),r.fc("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const J=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all":!0}};function $(e,t){if(1&e){const e=r.Rb();r.Qb(0,"a",16),r.Xb("click",(function(t){return r.sc(e),r.Zb(4).close(t)}))("keydown.enter",(function(t){return r.sc(e),r.Zb(4).close(t)})),r.Lb(1,"span"),r.Pb()}if(2&e){const e=r.Zb(4);r.fc("ngClass",r.hc(3,J)),r.zb(1),r.Bb(e.closeIcon)}}function W(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",10,11),r.Xb("mousedown",(function(t){return r.sc(e),r.Zb(3).initDrag(t)})),r.yc(2,K,2,2,"span",12),r.yc(3,Y,2,1,"span",12),r.Qb(4,"div",13),r.yc(5,G,2,3,"a",14),r.yc(6,$,2,4,"a",14),r.Pb(),r.Pb()}if(2&e){const e=r.Zb(3);r.zb(2),r.fc("ngIf",e.header),r.zb(1),r.fc("ngIf",e.headerFacet&&e.headerFacet.first),r.zb(2),r.fc("ngIf",e.maximizable),r.zb(1),r.fc("ngIf",e.closable)}}function ee(e,t){1&e&&(r.Qb(0,"div",17,18),r.dc(2,2),r.Pb())}function te(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",19),r.Xb("mousedown",(function(t){return r.sc(e),r.Zb(3).initResize(t)})),r.Pb()}}const ie=function(e,t,i,n){return{"ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow":!0,"ui-dialog-rtl":e,"ui-dialog-draggable":t,"ui-dialog-resizable":i,"ui-dialog-maximized":n}},ne=function(e,t){return{transform:e,transition:t}},se=function(e){return{value:"visible",params:e}};function oe(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",3,4),r.Xb("@animation.start",(function(t){return r.sc(e),r.Zb(2).onAnimationStart(t)}))("@animation.done",(function(t){return r.sc(e),r.Zb(2).onAnimationEnd(t)})),r.yc(2,W,7,4,"div",5),r.Qb(3,"div",6,7),r.dc(5),r.Pb(),r.yc(6,ee,3,0,"div",8),r.yc(7,te,1,0,"div",9),r.Pb()}if(2&e){const e=r.Zb(2);r.Bb(e.styleClass),r.fc("ngClass",r.lc(14,ie,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",r.ic(22,se,r.jc(19,ne,e.transformOptions,e.transitionOptions))),r.Ab("aria-labelledby",e.id+"-label"),r.zb(2),r.fc("ngIf",e.showHeader),r.zb(1),r.Bb(e.contentStyleClass),r.fc("ngClass","ui-dialog-content ui-widget-content")("ngStyle",e.contentStyle),r.zb(3),r.fc("ngIf",e.footerFacet&&e.footerFacet.first),r.zb(1),r.fc("ngIf",e.resizable)}}const ae=function(e,t,i,n,s,o,a,r,l,c,d){return{"ui-dialog-mask":!0,"ui-widget-overlay":e,"ui-dialog-visible":t,"ui-dialog-mask-scrollblocker":i,"ui-dialog-left":n,"ui-dialog-right":s,"ui-dialog-top":o,"ui-dialog-topleft":a,"ui-dialog-topright":r,"ui-dialog-bottom":l,"ui-dialog-bottomleft":c,"ui-dialog-bottomright":d}};function re(e,t){if(1&e&&(r.Qb(0,"div",1),r.yc(1,oe,8,24,"div",2),r.Pb()),2&e){const e=r.Zb();r.Bb(e.maskStyleClass),r.fc("ngClass",r.pc(4,ae,[e.modal,e.maskVisible,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position,"topright"===e.position,"bottom"===e.position,"bottomleft"===e.position,"bottomright"===e.position])),r.zb(1),r.fc("ngIf",e.visible)}}const le=["*",[["p-header"]],[["p-footer"]]],ce=["*","p-header","p-footer"];let de=0;const ue=Object(F.g)([Object(F.k)({transform:"{{transform}}",opacity:0}),Object(F.e)("{{transition}}",Object(F.k)({transform:"none",opacity:1}))]),he=Object(F.g)([Object(F.e)("{{transition}}",Object(F.k)({transform:"{{transform}}",opacity:0}))]);let be=(()=>{let e=class{constructor(e,t,i,n){this.el=e,this.renderer=t,this.zone=i,this.cd=n,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new r.n,this.onHide=new r.n,this.visibleChange=new r.n,this.onResizeInit=new r.n,this.onResizeEnd=new r.n,this.onDragEnd=new r.n,this.id="ui-dialog-"+de++,this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use CSS media queries instead.")}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=X.a.findSingle(this.container,"button");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&X.a.addClass(document.body,"ui-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&X.a.removeClass(document.body,"ui-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?X.a.addClass(document.body,"ui-overflow-hidden"):X.a.removeClass(document.body,"ui-overflow-hidden"))}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++X.a.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(X.a.zindex-1)))}initDrag(e){X.a.hasClass(e.target,"ui-dialog-titlebar-icon")||X.a.hasClass(e.target.parentElement,"ui-dialog-titlebar-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",X.a.addClass(document.body,"ui-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let t=X.a.getFocusableElements(this.container);if(t&&t.length>0)if(document.activeElement){let i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}onDrag(e){if(this.dragging){let t=X.a.getOuterWidth(this.container),i=X.a.getOuterHeight(this.container),n=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,o=X.a.getOffset(this.container),a=o.left+n,r=o.top+s,l=X.a.getViewport();this.container.style.position="fixed",this.keepInViewport?(a>=this.minX&&a+t<l.width&&(this._style.left=a+"px",this.lastPageX=e.pageX,this.container.style.left=a+"px"),r>=this.minY&&r+i<l.height&&(this._style.top=r+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")):(this.lastPageX=e.pageX,this.container.style.left=a+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,X.a.removeClass(document.body,"ui-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,X.a.addClass(document.body,"ui-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,n=X.a.getOuterWidth(this.container),s=X.a.getOuterHeight(this.container),o=X.a.getOuterHeight(this.contentViewChild.nativeElement),a=n+t,r=s+i,l=this.container.style.minWidth,c=this.container.style.minHeight,d=X.a.getOffset(this.container),u=X.a.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(a+=t,r+=i),(!l||a>parseInt(l))&&d.left+a<u.width&&(this._style.width=a+"px",this.container.style.width=this._style.width),(!c||r>parseInt(c))&&d.top+r<u.height&&(this.contentViewChild.nativeElement.style.height=o+r-s+"px",this._style.height&&(this._style.height=r+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,X.a.removeClass(document.body,"ui-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen("document","keydown",e=>{27==e.which&&parseInt(this.container.style.zIndex)===X.a.zindex+this.baseZIndex&&this.close(e)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):X.a.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&X.a.addClass(document.body,"ui-overflow-hidden"),this.focusOnShow&&this.focus()}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(X.a.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&X.a.removeClass(document.body,"ui-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy())}};return e.\u0275fac=function(t){return new(t||e)(r.Kb(r.l),r.Kb(r.E),r.Kb(r.A),r.Kb(r.h))},e.\u0275cmp=r.Eb({type:e,selectors:[["p-dialog"]],contentQueries:function(e,t,i){var n;1&e&&(r.Db(i,l.c,!1),r.Db(i,l.b,!1)),2&e&&(r.qc(n=r.Yb())&&(t.headerFacet=n),r.qc(n=r.Yb())&&(t.footerFacet=n))},viewQuery:function(e,t){var i;1&e&&(r.Dc(U,!0),r.Dc(H,!0),r.Dc(Z,!0)),2&e&&(r.qc(i=r.Yb())&&(t.headerViewChild=i.first),r.qc(i=r.Yb())&&(t.contentViewChild=i.first),r.qc(i=r.Yb())&&(t.footerViewChild=i.first))},inputs:{draggable:"draggable",resizable:"resizable",closeOnEscape:"closeOnEscape",closable:"closable",showHeader:"showHeader",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",positionLeft:"positionLeft",positionTop:"positionTop",responsive:"responsive",breakpoint:"breakpoint",visible:"visible",style:"style",position:"position",header:"header",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",dismissableMask:"dismissableMask",rtl:"rtl",appendTo:"appendTo",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maximizable:"maximizable"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd"},ngContentSelectors:ce,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],["class","ui-dialog-footer ui-widget-content",4,"ngIf"],["class","ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"ui-dialog-titlebar","ui-widget-header","ui-helper-clearfix","ui-corner-top",3,"mousedown"],["titlebar",""],["class","ui-dialog-title",4,"ngIf"],[1,"ui-dialog-titlebar-icons"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"ui-dialog-title"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter"],[1,"ui-dialog-footer","ui-widget-content"],["footer",""],[1,"ui-resizable-handle","ui-resizable-se","ui-icon","ui-icon-gripsmall-diagonal-se",2,"z-index","90",3,"mousedown"]],template:function(e,t){1&e&&(r.ec(le),r.yc(0,re,2,16,"div",0)),2&e&&r.fc("ngIf",t.maskVisible)},directives:[n.m,n.k,B,n.n],encapsulation:2,data:{animation:[Object(F.m)("animation",[Object(F.l)("void => visible",[Object(F.n)(ue)]),Object(F.l)("visible => void",[Object(F.n)(he)])])]}}),e})(),pe=(()=>{let e=class{};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b,q],l.f]}),e})();function me(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"th",51),r.Ac(2,"Descri\xe7\xe3o"),r.Pb(),r.Qb(3,"th",52),r.Ac(4,"Valor"),r.Pb(),r.Lb(5,"th",53),r.Pb())}function ge(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr",54),r.Qb(1,"td"),r.Ac(2),r.Pb(),r.Qb(3,"td"),r.Ac(4),r.ac(5,"currency"),r.Pb(),r.Qb(6,"td"),r.Qb(7,"a",55),r.Xb("click",(function(){r.sc(e);const i=t.$implicit,n=t.rowIndex;return r.Zb().prepararEdicaoServico(i,n)})),r.Qb(8,"i",56),r.Ac(9,"edit"),r.Pb(),r.Pb(),r.Qb(10,"button",57),r.Xb("click",(function(){r.sc(e);const i=t.rowIndex;return r.Zb().removerServico(i)})),r.Qb(11,"i",56),r.Ac(12,"delete_forever"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit;r.zb(2),r.Bc(e.descricao),r.zb(2),r.Bc(r.bc(5,2,e.valor,"BRL"))}}function fe(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"td",58),r.Ac(2,"Nenhuma Servi\xe7o encontrado..."),r.Pb(),r.Pb())}const ve=function(){return{prefix:"R$",thousands:".",decimal:",",allowNegative:!1}};function Se(e,t){if(1&e){const e=r.Rb();r.Qb(0,"p-dialog",59),r.Xb("visibleChange",(function(t){return r.sc(e),r.Zb().exibindoFormularioServico=t})),r.Qb(1,"form",2,60),r.Xb("ngSubmit",(function(){r.sc(e);const t=r.rc(2);return r.Zb().confirmarServico(t)})),r.Qb(3,"div",61),r.Qb(4,"input",62,19),r.Xb("ngModelChange",(function(t){return r.sc(e),r.Zb().servico.descricao=t})),r.Pb(),r.Qb(6,"label"),r.Ac(7," Descri\xe7\xe3o "),r.Pb(),r.Lb(8,"app-message",63),r.Lb(9,"app-message",13),r.Pb(),r.Qb(10,"div",64),r.Qb(11,"input",65,32),r.Xb("ngModelChange",(function(t){return r.sc(e),r.Zb().servico.valor=t})),r.Pb(),r.Qb(13,"label"),r.Ac(14," Valor "),r.Pb(),r.Lb(15,"app-message",66),r.Pb(),r.Qb(16,"div",4),r.Qb(17,"button",48),r.Qb(18,"i",40),r.Ac(19,"send"),r.Pb(),r.Ac(20),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.rc(2),t=r.rc(5),i=r.rc(12),n=r.Zb();r.fc("header",n.editandoServico?"Editar Servi\xe7o":"Novo Servi\xe7o")("visible",n.exibindoFormularioServico),r.zb(4),r.fc("ngModel",n.servico.descricao),r.zb(4),r.fc("control",t),r.zb(1),r.gc("text","M\xednimo de ",null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," caracteres!"),r.fc("control",t),r.zb(2),r.fc("ngModel",n.servico.valor)("options",r.hc(11,ve)),r.zb(4),r.fc("control",i),r.zb(2),r.fc("disabled",!e.valid),r.zb(3),r.Cc(" ",n.editandoServico?"Alterar":"Adicionar"," ")}}let we=(()=>{class e{constructor(e,t,i,n,s,o,a,r,l){this.osService=e,this.statusService=t,this.categoriaService=i,this.pessoaService=n,this.messageService=s,this.errorHandler=o,this.router=a,this.actRoute=r,this.title=l,this.ordemServico=new y.a,this.exibindoFormularioServico=!1,this.valorTotal=0}ngOnInit(){this.title.setTitle("Nova OS");const e=this.actRoute.snapshot.params.os;e&&this.carregarOs(e),this.carregarStatus(),this.carregarCategorias(),this.carregarPessoas()}get editando(){return Boolean(this.ordemServico.os)}carregarStatus(){this.statusService.listarStatus().then(e=>{this.listaStatus=e.map(e=>({label:e.descricao,value:e.id}))}).catch(e=>this.errorHandler.handle(e))}carregarCategorias(){this.categoriaService.listarCategorias().then(e=>{this.categorias=e.map(e=>({label:e.nome,value:e.id}))}).catch(e=>this.errorHandler.handle(e))}carregarPessoas(){this.pessoaService.listarTodos().then(e=>{this.pessoas=e.content.map(e=>({label:e.nome,value:e.id}))}).catch(e=>this.errorHandler.handle(e))}carregarOs(e){this.osService.buscarOsPorId(e).then(e=>{this.ordemServico=e,this.carregarStatus(),this.carregarPessoas(),this.carregarCategorias(),this.atualizarTituloEdicao()})}novo(e){e.reset(),setTimeout((function(){this.ordemServico=new y.a}).bind(this),1),this.router.navigate(["/ordem-servicos/novo"])}salvar(e){this.editando?this.atualizar(e):this.adicionar(e)}adicionar(e){this.osService.adicionarOs(this.ordemServico).then(e=>{this.messageService.add({severity:"success",detail:"OS adicionada com sucesso."}),this.router.navigate(["/ordem-servicos",e.os])}).catch(e=>this.errorHandler.handle(e))}atualizar(e){this.osService.atualizarOs(this.ordemServico).then(e=>{this.ordemServico=e,this.messageService.add({severity:"success",detail:"OS atualizada com sucesso."}),this.atualizarTituloEdicao()}).catch(e=>this.errorHandler.handle(e))}atualizarTituloEdicao(){this.title.setTitle("Edi\xe7\xe3o de OS: "+this.ordemServico.os)}executarDatePicker(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".datepicker");o.Datepicker.init(e,{format:"yyyy-mm-dd",i18n:{labelMonthNext:"Pr\xf3ximo m\xeas",months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Ma","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],weekdaysAbbrev:["D","S","T","Q","Q","S","S"],cancel:"Cancelar"}})}))}get editandoServico(){return this.servico&&this.servico.id}prepararNovoServico(){this.ordemServico.valor=0,this.exibindoFormularioServico=!0,this.servico=new y.c,this.servicoIndex=this.ordemServico.servicos.length}confirmarServico(e){this.ordemServico.servicos[this.servicoIndex]=this.clonarServico(this.servico),this.exibindoFormularioServico=!1,this.somarValor(),e.reset()}prepararEdicaoServico(e,t){this.ordemServico.valor=0,this.servico=this.clonarServico(e),this.exibindoFormularioServico=!0,this.servicoIndex=t}removerServico(e){this.ordemServico.valor=0,this.ordemServico.servicos.splice(e,1),this.somarValor()}somarValor(){this.ordemServico.servicos.forEach(e=>this.ordemServico.valor=Number(this.ordemServico.valor)+Number(e.valor))}clonarServico(e){return new y.c(e.id,e.descricao,e.valor)}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(a.b),r.Kb(M),r.Kb(R.a),r.Kb(z.b),r.Kb(l.d),r.Kb(c.a),r.Kb(s.b),r.Kb(s.a),r.Kb(x.b))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-os-cadastro"]],decls:98,vars:28,consts:[[1,"container"],[1,"row"],[3,"ngSubmit"],["formOs","ngForm"],[1,"col","s12"],[1,"col","s6","l3"],[1,"font-label"],["name","status","placeholder","Selecione...","required","",3,"ngModel","options","ngModelChange"],["status","ngModel"],[1,"input-field","col","s12","l8","offset-l4","pull-l4"],["type","text","name","equipamento","required","","minlength","5","maxlength","50",3,"ngModel","ngModelChange"],["equipamento","ngModel"],["error","required","text","equipamento \xe9 obrigat\xf3rio!",3,"control"],["error","minlength",3,"control","text"],["name","pessoa","placeholder","Selecione...","filter","true","required","",3,"ngModel","options","ngModelChange"],["pessoa","ngModel"],["name","categoria","placeholder","Selecione...","required","",3,"ngModel","options","ngModelChange"],["categoria","ngModel"],["name","descricao","pTooltip","Decreva o estado f\xedsico do equipamento","tooltipPosition","top",1,"materialize-textarea",3,"ngModel","ngModelChange"],["descricao","ngModel"],["type","text","name","defeito","required","","minlength","5",3,"ngModel","ngModelChange"],["defeito","ngModel"],["error","required","text","Campo defeito \xe9 obrigat\xf3rio!",3,"control"],["type","date","name","dataRecebimento","required","",3,"ngModel","ngModelChange"],["dataRecebimento","ngModel"],["for",""],["error","required","text","Data de Recebimento \xe9 obrigatorio!",3,"control"],[1,"col","s6","l3","offset-l6","pull-l6"],["type","date","name","dataEntrega",3,"ngModel","ngModelChange"],["dataEntrega","ngModel"],[1,"input-field","col","s6","l2","offset-l4","pull-l4"],["type","text","id","valor","name","valor","pTooltip","Valor do conserto","tooltipPosition","top","currencyMask","","readonly","",3,"ngModel","options","ngModelChange"],["valor","ngModel"],["name","laudo",1,"materialize-textarea",3,"ngModel","ngModelChange"],["laudo","ngModel"],["type","text","name","garantia",3,"ngModel","ngModelChange"],["garantia","ngModel"],[1,"col","s12",2,"margin-bottom","10px"],["header","Servi\xe7os"],["type","button","onclick","limpar()",1,"botao-margin-servicos","btn","waves-effect","waves-light","btn-small",3,"click"],[1,"material-icons","right"],[3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["modal","modal",3,"header","visible","visibleChange",4,"ngIf"],[1,"col","s4","l2"],["type","button",1,"btn","waves-effect","waves-light","btn-small",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-small",3,"disabled"],[1,"col","s4","l2","offset-l2"],["routerLink","/ordem-servicos",1,"botao-margin-voltar","btn","waves-effect","waves-light","btn-small"],[1,"td-nome-os"],[1,"td-status-os"],[1,"td-botoes-os"],[1,"linha-body"],["pTooltip","Editar","tooltipPosition","top","onclick","limpar()",1,"btn","waves-effect","waves-light","btn-medium",3,"click"],[1,"material-icons","center"],["pTooltip","Excluir","tooltipPosition","bottom","onclick","limpar()",1,"td-botoes-margin","btn","waves-effect","waves-light","btn-medium",3,"click"],["colspan","3"],["modal","modal",3,"header","visible","visibleChange"],["formServico","ngForm"],[1,"input-field","col","s12"],["type","text","name","descricao","required","","minlength","5",3,"ngModel","ngModelChange"],["error","required","text","Informe uma descri\xe7\xe3o do servi\xe7o",3,"control"],[1,"input-field","col","s4"],["type","text","name","valor","currencyMask","","required","",3,"ngModel","options","ngModelChange"],["error","required","text","Informe o valor do servi\xe7o.",3,"control"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"form",2,3),r.Xb("ngSubmit",(function(){r.sc(e);const i=r.rc(3);return t.salvar(i)})),r.Qb(4,"div",1),r.Qb(5,"div",4),r.Qb(6,"h1"),r.Ac(7),r.Pb(),r.Pb(),r.Qb(8,"div",5),r.Qb(9,"label",6),r.Ac(10," Status: "),r.Pb(),r.Qb(11,"p-dropdown",7,8),r.Xb("ngModelChange",(function(e){return t.ordemServico.status.id=e})),r.Pb(),r.Pb(),r.Qb(13,"div",9),r.Qb(14,"input",10,11),r.Xb("ngModelChange",(function(e){return t.ordemServico.equipamento=e})),r.Pb(),r.Qb(16,"label"),r.Ac(17," Equipamento "),r.Pb(),r.Lb(18,"app-message",12),r.Lb(19,"app-message",13),r.Pb(),r.Qb(20,"div",5),r.Qb(21,"label",6),r.Ac(22," Pessoa: "),r.Pb(),r.Qb(23,"p-dropdown",14,15),r.Xb("ngModelChange",(function(e){return t.ordemServico.pessoa.id=e})),r.Pb(),r.Pb(),r.Qb(25,"div",5),r.Qb(26,"label",6),r.Ac(27," Categoria: "),r.Pb(),r.Qb(28,"p-dropdown",16,17),r.Xb("ngModelChange",(function(e){return t.ordemServico.categoria.id=e})),r.Pb(),r.Pb(),r.Qb(30,"div",9),r.Qb(31,"textarea",18,19),r.Xb("ngModelChange",(function(e){return t.ordemServico.descricao=e})),r.Pb(),r.Qb(33,"label"),r.Ac(34," Descri\xe7\xe3o "),r.Pb(),r.Pb(),r.Qb(35,"div",9),r.Qb(36,"input",20,21),r.Xb("ngModelChange",(function(e){return t.ordemServico.defeito=e})),r.Pb(),r.Qb(38,"label"),r.Ac(39," Defeito "),r.Pb(),r.Lb(40,"app-message",22),r.Lb(41,"app-message",13),r.Pb(),r.Qb(42,"div",5),r.Qb(43,"input",23,24),r.Xb("ngModelChange",(function(e){return t.ordemServico.dataRecebimento=e})),r.Pb(),r.Qb(45,"label",25),r.Ac(46,"Data de Recebimento"),r.Pb(),r.Lb(47,"app-message",26),r.Pb(),r.Qb(48,"div",27),r.Qb(49,"input",28,29),r.Xb("ngModelChange",(function(e){return t.ordemServico.dataEntrega=e})),r.Pb(),r.Qb(51,"label",25),r.Ac(52,"Data de Entrega"),r.Pb(),r.Pb(),r.Qb(53,"div",30),r.Qb(54,"input",31,32),r.Xb("ngModelChange",(function(e){return t.ordemServico.valor=e})),r.Pb(),r.Qb(56,"label"),r.Ac(57," Valor "),r.Pb(),r.Pb(),r.Qb(58,"div",9),r.Qb(59,"textarea",33,34),r.Xb("ngModelChange",(function(e){return t.ordemServico.laudoTecnico=e})),r.Pb(),r.Qb(61,"label"),r.Ac(62," Laudo t\xe9cnico "),r.Pb(),r.Pb(),r.Qb(63,"div",30),r.Qb(64,"input",35,36),r.Xb("ngModelChange",(function(e){return t.ordemServico.garantia=e})),r.Pb(),r.Qb(66,"label"),r.Ac(67," Garantia "),r.Pb(),r.Pb(),r.Pb(),r.Qb(68,"div",1),r.Qb(69,"div",37),r.Qb(70,"p-panel",38),r.Qb(71,"div",4),r.Qb(72,"button",39),r.Xb("click",(function(){return t.prepararNovoServico()})),r.Qb(73,"i",40),r.Ac(74,"add_circle"),r.Pb(),r.Ac(75," novo "),r.Pb(),r.Pb(),r.Qb(76,"div",1),r.Qb(77,"div",4),r.Qb(78,"p-table",41),r.yc(79,me,6,0,"ng-template",42),r.yc(80,ge,13,5,"ng-template",43),r.yc(81,fe,3,0,"ng-template",44),r.Pb(),r.Pb(),r.Pb(),r.yc(82,Se,21,12,"p-dialog",45),r.Pb(),r.Pb(),r.Qb(83,"div",46),r.Qb(84,"button",47),r.Xb("click",(function(){r.sc(e);const i=r.rc(3);return t.novo(i)})),r.Qb(85,"i",40),r.Ac(86,"person_add"),r.Pb(),r.Ac(87," Nova OS "),r.Pb(),r.Pb(),r.Qb(88,"div",46),r.Qb(89,"button",48),r.Qb(90,"i",40),r.Ac(91,"send"),r.Pb(),r.Ac(92," Salvar "),r.Pb(),r.Pb(),r.Qb(93,"div",49),r.Qb(94,"a",50),r.Qb(95,"i",40),r.Ac(96,"subdirectory_arrow_left"),r.Pb(),r.Ac(97," Voltar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.rc(3),i=r.rc(15),n=r.rc(37),s=r.rc(44);r.zb(7),r.Cc(" ",t.editando?"Edi\xe7\xe3o de":"Nova"," Ordem de Servi\xe7o "),r.zb(4),r.fc("ngModel",t.ordemServico.status.id)("options",t.listaStatus),r.zb(3),r.fc("ngModel",t.ordemServico.equipamento),r.zb(4),r.fc("control",i),r.zb(1),r.gc("text","M\xednimo de ",null==i.errors||null==i.errors.minlength?null:i.errors.minlength.requiredLength," caracteres!"),r.fc("control",i),r.zb(4),r.fc("ngModel",t.ordemServico.pessoa.id)("options",t.pessoas),r.zb(5),r.fc("ngModel",t.ordemServico.categoria.id)("options",t.categorias),r.zb(3),r.fc("ngModel",t.ordemServico.descricao),r.zb(5),r.fc("ngModel",t.ordemServico.defeito),r.zb(4),r.fc("control",n),r.zb(1),r.gc("text","M\xednimo de ",null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength," caracteres!"),r.fc("control",n),r.zb(2),r.fc("ngModel",t.ordemServico.dataRecebimento),r.zb(4),r.fc("control",s),r.zb(2),r.fc("ngModel",t.ordemServico.dataEntrega),r.zb(5),r.fc("ngModel",t.ordemServico.valor)("options",r.hc(27,ve)),r.zb(5),r.fc("ngModel",t.ordemServico.laudoTecnico),r.zb(5),r.fc("ngModel",t.ordemServico.garantia),r.zb(14),r.fc("value",t.ordemServico.servicos)("responsive",!0),r.zb(4),r.fc("ngIf",t.servico),r.zb(7),r.fc("disabled",!e.valid)}},directives:[u.l,u.h,u.i,A.a,u.k,u.g,u.j,u.a,u.e,u.d,C.a,b.a,D,_.a,h.a,l.e,n.m,s.d,be],pipes:[n.c],styles:[""]}),e})();var ye=i("AQzz");const Pe=[{path:"",component:w,canActivate:[ye.a],data:{roles:["ROLE_PESQUISAR_OS"]}},{path:"novo",component:we,canActivate:[ye.a],data:{roles:["ROLE_CADASTRAR_OS"]}},{path:":os",component:we,canActivate:[ye.a],data:{roles:["ROLE_CADASTRAR_OS"]}}];let Ee=(()=>{class e{}return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b,s.e.forChild(Pe)],s.e]}),e})();var Me=i("PCNd");let Re=(()=>{class e{}return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b,u.c,Ee,Me.a,N,A.b,h.b,b.b,_.b,pe]]}),e})()}}]);