function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"R/OS":function(e,t,i){"use strict";i.r(t),i.d(t,"OsModule",(function(){return Ve}));var n=i("ofXK"),o=i("tyNb"),a=i("TVxV"),s=i("+Q5f"),r=i("fXoL"),l=i("7zfz"),c=i("DLzb"),u=i("Tulk"),d=i("3Pt+"),h=i("rEr+"),b=i("xlun"),p=["tabela"];function m(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"th",20),r.Ac(2,"Num. OS"),r.Pb(),r.Qb(3,"th",21),r.Ac(4,"Pessoa"),r.Pb(),r.Qb(5,"th",21),r.Ac(6,"Equipamento"),r.Pb(),r.Qb(7,"th",22),r.Ac(8,"Categoria"),r.Pb(),r.Qb(9,"th",23),r.Ac(10,"Status"),r.Pb(),r.Qb(11,"th",23),r.Ac(12,"Data de Recebimento"),r.Pb(),r.Qb(13,"th",23),r.Ac(14,"Data de Entrega"),r.Pb(),r.Qb(15,"th",23),r.Ac(16,"Valor"),r.Pb(),r.Lb(17,"th",24),r.Pb())}function f(e,t){if(1&e){var i=r.Rb();r.Qb(0,"button",29),r.Xb("click",(function(){r.sc(i);var e=r.Zb().$implicit;return r.Zb().confirmarExclusao(e)})),r.Qb(1,"i",27),r.Ac(2,"delete_forever"),r.Pb(),r.Pb()}}var g=function(e){return["/ordem-servicos",e]};function v(e,t){if(1&e&&(r.Qb(0,"tr",25),r.Qb(1,"td"),r.Ac(2),r.Pb(),r.Qb(3,"td"),r.Ac(4),r.Pb(),r.Qb(5,"td"),r.Ac(6),r.Pb(),r.Qb(7,"td"),r.Ac(8),r.Pb(),r.Qb(9,"td"),r.Ac(10),r.Pb(),r.Qb(11,"td"),r.Ac(12),r.ac(13,"date"),r.Pb(),r.Qb(14,"td"),r.Ac(15),r.ac(16,"date"),r.Pb(),r.Qb(17,"td"),r.Ac(18),r.ac(19,"currency"),r.Pb(),r.Qb(20,"td"),r.Qb(21,"a",26),r.Qb(22,"i",27),r.Ac(23,"edit"),r.Pb(),r.Pb(),r.yc(24,f,3,0,"button",28),r.Pb(),r.Pb()),2&e){var i=t.$implicit,n=r.Zb();r.zb(2),r.Bc(i.os),r.zb(2),r.Bc(i.pessoa.nome),r.zb(2),r.Bc(i.equipamento),r.zb(2),r.Bc(i.categoria.nome),r.zb(2),r.Bc(i.status.descricao),r.zb(2),r.Bc(r.bc(13,10,i.dataRecebimento,"dd/MM/y")),r.zb(3),r.Bc(r.bc(16,13,i.dataEntrega,"dd/MM/y")),r.zb(3),r.Bc(r.bc(19,16,i.valor,"BRL")),r.zb(3),r.fc("routerLink",r.ic(19,g,i.os)),r.zb(3),r.fc("ngIf",n.segurancaService.temPermissao("ROLE_REMOVER_OS"))}}function y(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"td",30),r.Ac(2,"Nenhuma Ordem de Servi\xe7o encontrada..."),r.Pb(),r.Pb())}var S,k,w,P,E,C,M,R=((S=function(){function e(t,i,n,o,a){_classCallCheck(this,e),this.osService=t,this.messageService=i,this.confirmationService=n,this.errorHandler=o,this.segurancaService=a,this.osFilter=new s.a,this.totalRegistros=0,this.ordemServicos=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.executarDatePicker()}},{key:"pesquisar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.osFilter.pagina=t,this.osService.pesquisarOs(this.osFilter).then((function(t){e.ordemServicos=t.ordemServicos,e.totalRegistros=t.total})).catch((function(t){return e.errorHandler.handle(t)}))}},{key:"aoMudarPagina",value:function(e){this.pesquisar(e.first/e.rows)}},{key:"confirmarExclusao",value:function(e){var t=this;this.confirmationService.confirm({message:"Tem certeza que deseja remover OS de num. "+e.os+"?",accept:function(){t.excluir(e)}})}},{key:"excluir",value:function(e){var t=this;this.osService.excluirOs(e.os).then((function(){t.grid.reset(),t.messageService.add({severity:"success",detail:"OS exclu\xedda com sucesso."})})).catch((function(e){return t.errorHandler.handle(e)}))}},{key:"executarDatePicker",value:function(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".datepicker");a.Datepicker.init(e,{format:"yyyy-mm-dd",i18n:{labelMonthNext:"Pr\xf3ximo m\xeas",months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Ma","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],weekdaysAbbrev:["D","S","T","Q","Q","S","S"],cancel:"Cancelar"}})}))}}]),e}()).\u0275fac=function(e){return new(e||S)(r.Kb(s.b),r.Kb(l.d),r.Kb(l.a),r.Kb(c.a),r.Kb(u.a))},S.\u0275cmp=r.Eb({type:S,selectors:[["app-os-pesquisa"]],viewQuery:function(e,t){var i;1&e&&r.wc(p,!0),2&e&&r.qc(i=r.Yb())&&(t.grid=i.first)},decls:38,vars:10,consts:[[1,"container"],[1,"col","s12"],[1,"row"],[3,"submit"],[1,"col","input-field","s12","l6","offset-l6","pull-l6"],["type","text","name","equipamento",3,"ngModel","ngModelChange","keyup"],["for",""],[1,"col","s6","l3"],["type","date","name","dataRecebimentoInicio",3,"ngModel","ngModelChange"],[1,"col","s6","l3","offset-l6","pull-l6"],["type","date","name","dataRecebimentoFim",3,"ngModel","ngModelChange"],["type","submit",1,"btn","waves-effect","waves-light","btn-small"],[1,"material-icons","right"],["columnResizeMode","expand",3,"value","paginator","responsive","rows","lazy","totalRecords","resizableColumns","onLazyLoad"],["tabela",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col","s5","offset-s7","offset-l10"],["routerLink","/ordem-servicos/novo",1,"botao-margin-os","btn","waves-effect","waves-light","btn-small"],[1,"td-num-os"],[1,"td-nome-os"],[1,"td-categoria-os"],[1,"td-status-os"],[1,"td-botoes-os"],[1,"linha-body"],["pTooltip","Editar","tooltipPosition","top",1,"btn","waves-effect","waves-light","btn-medium",3,"routerLink"],[1,"material-icons","center"],["class","td-botoes-margin btn waves-effect waves-light btn-medium","pTooltip","Excluir","tooltipPosition","bottom",3,"click",4,"ngIf"],["pTooltip","Excluir","tooltipPosition","bottom",1,"td-botoes-margin","btn","waves-effect","waves-light","btn-medium",3,"click"],["colspan","7"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h1"),r.Ac(3," Ordem de Servi\xe7os "),r.Pb(),r.Pb(),r.Qb(4,"div",2),r.Qb(5,"form",3),r.Xb("submit",(function(){return t.pesquisar()})),r.Qb(6,"div",2),r.Qb(7,"div",4),r.Qb(8,"input",5),r.Xb("ngModelChange",(function(e){return t.osFilter.equipamento=e}))("keyup",(function(){return t.pesquisar()})),r.Pb(),r.Qb(9,"label",6),r.Ac(10,"Equipamento"),r.Pb(),r.Pb(),r.Qb(11,"div",7),r.Qb(12,"input",8),r.Xb("ngModelChange",(function(e){return t.osFilter.dataRecebimentoInicio=e})),r.Pb(),r.Qb(13,"label",6),r.Ac(14,"Recebimento de"),r.Pb(),r.Pb(),r.Qb(15,"div",9),r.Qb(16,"input",10),r.Xb("ngModelChange",(function(e){return t.osFilter.dataRecebimentoFim=e})),r.Pb(),r.Qb(17,"label",6),r.Ac(18,"At\xe9"),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"div",2),r.Qb(20,"div",1),r.Qb(21,"button",11),r.Qb(22,"i",12),r.Ac(23,"search"),r.Pb(),r.Ac(24," Pesquisar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",2),r.Qb(26,"div",1),r.Qb(27,"p-table",13,14),r.Xb("onLazyLoad",(function(e){return t.aoMudarPagina(e)})),r.yc(29,m,18,0,"ng-template",15),r.yc(30,v,25,21,"ng-template",16),r.yc(31,y,3,0,"ng-template",17),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",2),r.Qb(33,"div",18),r.Qb(34,"button",19),r.Qb(35,"i",12),r.Ac(36,"add_circle"),r.Pb(),r.Ac(37," Nova OS "),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.zb(8),r.fc("ngModel",t.osFilter.equipamento),r.zb(4),r.fc("ngModel",t.osFilter.dataRecebimentoInicio),r.zb(4),r.fc("ngModel",t.osFilter.dataRecebimentoFim),r.zb(11),r.fc("value",t.ordemServicos)("paginator",!0)("responsive",!0)("rows",t.osFilter.itensPorPagina)("lazy",!0)("totalRecords",t.totalRegistros)("resizableColumns",!0))},directives:[d.l,d.h,d.i,d.a,d.g,d.j,h.a,l.e,o.c,o.d,b.a,n.m],pipes:[n.e,n.c],styles:[""]}),S),z=i("uEA4"),x=i("cxbk"),A=i("tk/3"),Q=((k=function(){function e(t){_classCallCheck(this,e),this.httpCliente=t,this.statusUrl=x.a.apiUrlProd+"/status"}return _createClass(e,[{key:"listarStatus",value:function(){return this.httpCliente.get(this.statusUrl).toPromise()}}]),e}()).\u0275fac=function(e){return new(e||k)(r.Ub(A.b))},k.\u0275prov=r.Gb({token:k,factory:k.\u0275fac,providedIn:"root"}),k),I=i("q5YL"),O=i("G/4H"),L=i("jhN1"),_=i("arFO"),V=i("oA9F"),D=function(e){return e[e.FINANCIAL=0]="FINANCIAL",e[e.NATURAL=1]="NATURAL",e}({}),T=new r.q("currency.mask.config"),N=function(){function e(t){_classCallCheck(this,e),this.htmlInputElement=t}return _createClass(e,[{key:"setCursorAt",value:function(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){var t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}},{key:"updateValueAndCursor",value:function(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)}},{key:"canInputMoreNumbers",get:function(){var e=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),o="0"==this.htmlInputElement.value.substring(0,1);return e||n||o}},{key:"inputSelection",get:function(){var e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{var i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){var n=this.htmlInputElement.value.length,o=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange();a.moveToBookmark(i.getBookmark());var s=this.htmlInputElement.createTextRange();s.collapse(!1),a.compareEndPoints("StartToEnd",s)>-1?e=t=n:(e=-a.moveStart("character",-n),e+=o.slice(0,e).split("\n").length-1,a.compareEndPoints("EndToEnd",s)>-1?t=n:(t=-a.moveEnd("character",-n),t+=o.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}},{key:"rawValue",get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}},{key:"storedRawValue",get:function(){return this._storedRawValue}}]),e}(),F=function(){function e(t,i){_classCallCheck(this,e),this.htmlInputElement=t,this.options=i,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new N(t),this.initialize()}return _createClass(e,[{key:"initialize",value:function(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}},{key:"addNumber",value:function(e){var t=this.options,i=t.decimal,n=t.precision,o=t.inputMode,a=String.fromCharCode(e),s=a===this.options.decimal;if(this.rawValue){var r=this.inputSelection.selectionStart,l=this.inputSelection.selectionEnd,c=this.rawValue.substring(0,r),u=this.rawValue.substring(l,this.rawValue.length),d=-1!==c.indexOf(i);o===D.NATURAL&&d&&r===l&&(u=u.substring(1));var h=c+a+u,b=r+1;if(!s&&a!==this.options.thousands||a!==u[0]){if(!this.SINGLE_DIGIT_REGEX.test(a))return}else b++;this.rawValue=h,this.updateFieldValue(b)}else{this.rawValue=this.applyMask(!1,a);var p=void 0;o===D.NATURAL&&n>0&&(p=this.rawValue.indexOf(i),s&&p++),this.updateFieldValue(p)}}},{key:"applyMask",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.options,o=n.allowNegative,a=n.decimal,s=n.precision,r=n.prefix,l=n.suffix,c=n.thousands,u=n.min,d=n.max,h=n.inputMode,b=(t=e?new Number(t).toFixed(s):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!b&&t!==a)return"";h!==D.NATURAL||e||i||(b=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));var p=b.slice(0,b.length-s).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==p&&(p="0");var m=parseInt(p);p=p.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,c),c&&p.startsWith(c)&&(p=p.substring(1));var f=p,g=b.slice(b.length-s),v=parseInt(g)||0,y=t.indexOf("-")>-1;d=this.isNullOrUndefined(d)||this.isNullOrUndefined(u)?d:Math.max(d,u);var S=m+v/100;return S=y?-S:S,!this.isNullOrUndefined(d)&&S>d?this.applyMask(!0,d+""):!this.isNullOrUndefined(u)&&S<u?this.applyMask(!0,u+""):(s>0&&(f+="0"==f&&g.length<s?a+"0".repeat(s-1)+g:a+g),(y&&o&&0!=S?"-":"")+r+f+l)}},{key:"padOrTrimPrecision",value:function(e){var t=this.options,i=t.decimal,n=t.precision,o=e.lastIndexOf(i);-1===o&&(o=e.length,e+=i);var a=e.substring(o).replace(this.ONLY_NUMBERS_REGEX,""),s=a.length;if(s<n)for(var r=s;r<n;r++)a+="0";else s>n&&(a=a.substring(0,a.length+n-s));return e.substring(0,o)+i+a}},{key:"clearMask",value:function(e){if(this.isNullable()&&""===e)return null;var t=(e||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((function(e,i){var n=new RegExp(i,"g");t=t.replace(n,e)})),parseFloat(t)}},{key:"changeToNegative",value:function(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}},{key:"changeToPositive",value:function(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}},{key:"removeNumber",value:function(e){var t=this.options,i=t.decimal,n=t.thousands,o=t.prefix,a=t.suffix,s=t.inputMode;if(this.isNullable()&&0==this.value)this.rawValue=null;else{var r=this.inputSelection.selectionEnd,l=this.inputSelection.selectionStart,c=this.rawValue.length-a.length;if(r=Math.min(c,Math.max(r,o.length)),(l=Math.min(c,Math.max(l,o.length)))!==r||this.inputSelection.selectionStart===this.inputSelection.selectionEnd){var u=this.rawValue.indexOf(i);-1===u&&(u=this.rawValue.length);var d=0,h="";if(r===l)if(8==e){if(l<=o.length)return;l--,this.rawValue.substr(l,1).match(/\d/)||l--,s===D.NATURAL&&u<r&&(d=-1)}else if(46==e||63272==e){if(l===c)return;r++,this.rawValue.substr(l,1).match(/\d/)||(l++,r++)}if(s===D.NATURAL&&l>u)for(var b=r-l,p=0;p<b;p++)h+="0";var m=this.rawValue.length-r;this.rawValue=this.rawValue.substring(0,l)+h+this.rawValue.substring(r),this.rawValue.substr(o.length,1)===n&&(this.rawValue=this.rawValue.substring(0,o.length)+this.rawValue.substring(o.length+1),m=Math.min(m,this.rawValue.length-o.length)),this.updateFieldValue(this.rawValue.length-m+d,!0)}else this.updateFieldValue(l)}}},{key:"updateFieldValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.applyMask(!1,this.rawValue||"",t);e=null==e?this.rawValue.length:e,e=Math.max(this.options.prefix.length,Math.min(e,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,e)}},{key:"updateOptions",value:function(e){var t=this.value;this.options=e,this.value=t}},{key:"prefixLength",value:function(){return this.options.prefix.length}},{key:"suffixLength",value:function(){return this.options.suffix.length}},{key:"isNullable",value:function(){return this.options.nullable}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"canInputMoreNumbers",get:function(){return this.inputManager.canInputMoreNumbers}},{key:"inputSelection",get:function(){return this.inputManager.inputSelection}},{key:"rawValue",get:function(){return this.inputManager.rawValue},set:function(e){this.inputManager.rawValue=e}},{key:"storedRawValue",get:function(){return this.inputManager.storedRawValue}},{key:"value",get:function(){return this.clearMask(this.rawValue)},set:function(e){this.rawValue=this.applyMask(!0,""+e)}}]),e}(),X=function(){function e(t,i){_classCallCheck(this,e),this.inputService=new F(t,i)}return _createClass(e,[{key:"handleCut",value:function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),0)}},{key:"handleInput",value:function(e){var t=this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length-1),i=this.inputService.rawValue.length,n=this.inputService.inputSelection.selectionEnd,o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==n&&1==Math.abs(i-o)){if(i<o&&this.inputService.removeNumber(8),i>o)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers)return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}},{key:"handleKeydown",value:function(e){var t=e.which||e.charCode||e.keyCode;8!=t&&46!=t&&63272!=t||(e.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))}},{key:"clearValue",value:function(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}},{key:"handleKeypress",value:function(e){var t=e.which||e.charCode||e.keyCode;if(e.preventDefault(),97!==t||!e.ctrlKey){switch(t){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(t))}this.onModelChange(this.inputService.value)}}},{key:"handlePaste",value:function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),1)}},{key:"updateOptions",value:function(e){this.inputService.updateOptions(e)}},{key:"getOnModelChange",value:function(){return this.onModelChange}},{key:"setOnModelChange",value:function(e){this.onModelChange=e}},{key:"getOnModelTouched",value:function(){return this.onModelTouched}},{key:"setOnModelTouched",value:function(e){this.onModelTouched=e}},{key:"setValue",value:function(e){this.inputService.value=e}},{key:"setCursorPosition",value:function(e){setTimeout((function(){e.target.setSelectionRange(e.target.value.length,e.target.value.length)}),0)}}]),e}(),B={provide:d.f,useExisting:Object(r.T)((function(){return q})),multi:!0},q=((w=function(){function e(t,i,n){_classCallCheck(this,e),this.currencyMaskConfig=t,this.elementRef=i,this.keyValueDiffers=n,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:D.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=n.find({}).create()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}},{key:"ngDoCheck",value:function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}},{key:"ngOnInit",value:function(){this.inputHandler=new X(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}},{key:"handleBlur",value:function(e){this.inputHandler.getOnModelTouched().apply(e)}},{key:"handleCut",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(e)}},{key:"handleInput",value:function(e){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(e)}},{key:"handleKeydown",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(e)}},{key:"handleKeypress",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(e)}},{key:"handlePaste",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(e)}},{key:"handleDrop",value:function(e){this.isChromeAndroid()||e.preventDefault()}},{key:"isChromeAndroid",value:function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}},{key:"isReadOnly",value:function(){return this.elementRef.nativeElement.hasAttribute("readonly")}},{key:"registerOnChange",value:function(e){this.inputHandler.setOnModelChange(e)}},{key:"registerOnTouched",value:function(e){this.inputHandler.setOnModelTouched(e)}},{key:"setDisabledState",value:function(e){this.elementRef.nativeElement.disabled=e}},{key:"writeValue",value:function(e){this.inputHandler.setValue(e)}}]),e}()).\u0275fac=function(e){return new(e||w)(r.Kb(T,8),r.Kb(r.l),r.Kb(r.u))},w.\u0275dir=r.Fb({type:w,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&r.Xb("blur",(function(e){return t.handleBlur(e)}))("cut",(function(e){return t.handleCut(e)}))("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)}))("keypress",(function(e){return t.handleKeypress(e)}))("paste",(function(e){return t.handlePaste(e)}))("drop",(function(e){return t.handleDrop(e)}))},inputs:{options:"options"},features:[r.yb([B])]}),w),U=((E=P=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){return{ngModule:P,providers:[{provide:T,useValue:e}]}}}]),e}()).\u0275mod=r.Ib({type:E}),E.\u0275inj=r.Hb({factory:function(e){return new(e||E)},imports:[[n.b,d.c]]}),E),H=i("7CaW"),Z=i("R0Ic"),K=i("YyRF"),Y=((M=function(){function e(t){_classCallCheck(this,e),this.el=t}return _createClass(e,[{key:"onkeydown",value:function(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();var t=K.a.getFocusableElements(this.el.nativeElement);if(t&&t.length>0)if(document.activeElement){var i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}}]),e}()).\u0275fac=function(e){return new(e||M)(r.Kb(r.l))},M.\u0275dir=r.Fb({type:M,selectors:[["","pFocusTrap",""]],hostBindings:function(e,t){1&e&&r.Xb("keydown.tab",(function(e){return t.onkeydown(e)}))("keydown.shift.tab",(function(e){return t.onkeydown(e)}))},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),M),j=((C=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:C}),C.\u0275inj=r.Hb({factory:function(e){return new(e||C)},imports:[[n.b]]}),C),G=["titlebar"],J=["content"],$=["footer"];function W(e,t){if(1&e&&(r.Qb(0,"span",15),r.Ac(1),r.Pb()),2&e){var i=r.Zb(4);r.Ab("id",i.id+"-label"),r.zb(1),r.Bc(i.header)}}function ee(e,t){if(1&e&&(r.Qb(0,"span",15),r.dc(1,1),r.Pb()),2&e){var i=r.Zb(4);r.Ab("id",i.id+"-label")}}var te=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-maximize ui-corner-all":!0}};function ie(e,t){if(1&e){var i=r.Rb();r.Qb(0,"a",16),r.Xb("click",(function(){return r.sc(i),r.Zb(4).maximize()}))("keydown.enter",(function(){return r.sc(i),r.Zb(4).maximize()})),r.Lb(1,"span",1),r.Pb()}if(2&e){var n=r.Zb(4);r.fc("ngClass",r.hc(2,te)),r.zb(1),r.fc("ngClass",n.maximized?n.minimizeIcon:n.maximizeIcon)}}var ne=function(){return{"ui-dialog-titlebar-icon ui-dialog-titlebar-close ui-corner-all":!0}};function oe(e,t){if(1&e){var i=r.Rb();r.Qb(0,"a",16),r.Xb("click",(function(e){return r.sc(i),r.Zb(4).close(e)}))("keydown.enter",(function(e){return r.sc(i),r.Zb(4).close(e)})),r.Lb(1,"span"),r.Pb()}if(2&e){var n=r.Zb(4);r.fc("ngClass",r.hc(3,ne)),r.zb(1),r.Bb(n.closeIcon)}}function ae(e,t){if(1&e){var i=r.Rb();r.Qb(0,"div",10,11),r.Xb("mousedown",(function(e){return r.sc(i),r.Zb(3).initDrag(e)})),r.yc(2,W,2,2,"span",12),r.yc(3,ee,2,1,"span",12),r.Qb(4,"div",13),r.yc(5,ie,2,3,"a",14),r.yc(6,oe,2,4,"a",14),r.Pb(),r.Pb()}if(2&e){var n=r.Zb(3);r.zb(2),r.fc("ngIf",n.header),r.zb(1),r.fc("ngIf",n.headerFacet&&n.headerFacet.first),r.zb(2),r.fc("ngIf",n.maximizable),r.zb(1),r.fc("ngIf",n.closable)}}function se(e,t){1&e&&(r.Qb(0,"div",17,18),r.dc(2,2),r.Pb())}function re(e,t){if(1&e){var i=r.Rb();r.Qb(0,"div",19),r.Xb("mousedown",(function(e){return r.sc(i),r.Zb(3).initResize(e)})),r.Pb()}}var le=function(e,t,i,n){return{"ui-dialog ui-widget ui-widget-content ui-corner-all ui-shadow":!0,"ui-dialog-rtl":e,"ui-dialog-draggable":t,"ui-dialog-resizable":i,"ui-dialog-maximized":n}},ce=function(e,t){return{transform:e,transition:t}},ue=function(e){return{value:"visible",params:e}};function de(e,t){if(1&e){var i=r.Rb();r.Qb(0,"div",3,4),r.Xb("@animation.start",(function(e){return r.sc(i),r.Zb(2).onAnimationStart(e)}))("@animation.done",(function(e){return r.sc(i),r.Zb(2).onAnimationEnd(e)})),r.yc(2,ae,7,4,"div",5),r.Qb(3,"div",6,7),r.dc(5),r.Pb(),r.yc(6,se,3,0,"div",8),r.yc(7,re,1,0,"div",9),r.Pb()}if(2&e){var n=r.Zb(2);r.Bb(n.styleClass),r.fc("ngClass",r.lc(14,le,n.rtl,n.draggable,n.resizable,n.maximized))("ngStyle",n.style)("pFocusTrapDisabled",!1===n.focusTrap)("@animation",r.ic(22,ue,r.jc(19,ce,n.transformOptions,n.transitionOptions))),r.Ab("aria-labelledby",n.id+"-label"),r.zb(2),r.fc("ngIf",n.showHeader),r.zb(1),r.Bb(n.contentStyleClass),r.fc("ngClass","ui-dialog-content ui-widget-content")("ngStyle",n.contentStyle),r.zb(3),r.fc("ngIf",n.footerFacet&&n.footerFacet.first),r.zb(1),r.fc("ngIf",n.resizable)}}var he=function(e,t,i,n,o,a,s,r,l,c,u){return{"ui-dialog-mask":!0,"ui-widget-overlay":e,"ui-dialog-visible":t,"ui-dialog-mask-scrollblocker":i,"ui-dialog-left":n,"ui-dialog-right":o,"ui-dialog-top":a,"ui-dialog-topleft":s,"ui-dialog-topright":r,"ui-dialog-bottom":l,"ui-dialog-bottomleft":c,"ui-dialog-bottomright":u}};function be(e,t){if(1&e&&(r.Qb(0,"div",1),r.yc(1,de,8,24,"div",2),r.Pb()),2&e){var i=r.Zb();r.Bb(i.maskStyleClass),r.fc("ngClass",r.pc(4,he,[i.modal,i.maskVisible,i.modal||i.blockScroll,"left"===i.position,"right"===i.position,"top"===i.position,"topleft"===i.position,"topright"===i.position,"bottom"===i.position,"bottomleft"===i.position,"bottomright"===i.position])),r.zb(1),r.fc("ngIf",i.visible)}}var pe,me,fe=["*",[["p-header"]],[["p-footer"]]],ge=["*","p-header","p-footer"],ve=0,ye=Object(Z.g)([Object(Z.k)({transform:"{{transform}}",opacity:0}),Object(Z.e)("{{transition}}",Object(Z.k)({transform:"none",opacity:1}))]),Se=Object(Z.g)([Object(Z.e)("{{transition}}",Object(Z.k)({transform:"{{transform}}",opacity:0}))]),ke=((me=function(){function e(t,i,n,o){_classCallCheck(this,e),this.el=t,this.renderer=i,this.zone=n,this.cd=o,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new r.n,this.onHide=new r.n,this.visibleChange=new r.n,this.onResizeInit=new r.n,this.onResizeEnd=new r.n,this.onDragEnd=new r.n,this.id="ui-dialog-"+ve++,this._style={},this._position="center",this.transformOptions="scale(0.7)"}return _createClass(e,[{key:"focus",value:function(){var e=K.a.findSingle(this.container,"button");e&&this.zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()}),5)}))}},{key:"close",value:function(e){this.visibleChange.emit(!1),e.preventDefault()}},{key:"enableModality",value:function(){var e=this;this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"click",(function(t){e.wrapper&&e.wrapper.isSameNode(t.target)&&e.close(t)}))),this.modal&&K.a.addClass(document.body,"ui-overflow-hidden")}},{key:"disableModality",value:function(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&K.a.removeClass(document.body,"ui-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}},{key:"maximize",value:function(){this.maximized=!this.maximized,this.modal||this.blockScroll||(this.maximized?K.a.addClass(document.body,"ui-overflow-hidden"):K.a.removeClass(document.body,"ui-overflow-hidden"))}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"moveOnTop",value:function(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++K.a.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(K.a.zindex-1)))}},{key:"initDrag",value:function(e){K.a.hasClass(e.target,"ui-dialog-titlebar-icon")||K.a.hasClass(e.target.parentElement,"ui-dialog-titlebar-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",K.a.addClass(document.body,"ui-unselectable-text"))}},{key:"onKeydown",value:function(e){if(this.focusTrap&&9===e.which){e.preventDefault();var t=K.a.getFocusableElements(this.container);if(t&&t.length>0)if(document.activeElement){var i=t.indexOf(document.activeElement);e.shiftKey?-1==i||0===i?t[t.length-1].focus():t[i-1].focus():-1==i||i===t.length-1?t[0].focus():t[i+1].focus()}else t[0].focus()}}},{key:"onDrag",value:function(e){if(this.dragging){var t=K.a.getOuterWidth(this.container),i=K.a.getOuterHeight(this.container),n=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,a=K.a.getOffset(this.container),s=a.left+n,r=a.top+o,l=K.a.getViewport();this.container.style.position="fixed",this.keepInViewport?(s>=this.minX&&s+t<l.width&&(this._style.left=s+"px",this.lastPageX=e.pageX,this.container.style.left=s+"px"),r>=this.minY&&r+i<l.height&&(this._style.top=r+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")):(this.lastPageX=e.pageX,this.container.style.left=s+"px",this.lastPageY=e.pageY,this.container.style.top=r+"px")}}},{key:"endDrag",value:function(e){this.dragging&&(this.dragging=!1,K.a.removeClass(document.body,"ui-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}},{key:"resetPosition",value:function(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}},{key:"center",value:function(){this.resetPosition()}},{key:"initResize",value:function(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,K.a.addClass(document.body,"ui-unselectable-text"),this.onResizeInit.emit(e))}},{key:"onResize",value:function(e){if(this.resizing){var t=e.pageX-this.lastPageX,i=e.pageY-this.lastPageY,n=K.a.getOuterWidth(this.container),o=K.a.getOuterHeight(this.container),a=K.a.getOuterHeight(this.contentViewChild.nativeElement),s=n+t,r=o+i,l=this.container.style.minWidth,c=this.container.style.minHeight,u=K.a.getOffset(this.container),d=K.a.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(s+=t,r+=i),(!l||s>parseInt(l))&&u.left+s<d.width&&(this._style.width=s+"px",this.container.style.width=this._style.width),(!c||r>parseInt(c))&&u.top+r<d.height&&(this.contentViewChild.nativeElement.style.height=a+r-o+"px",this._style.height&&(this._style.height=r+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}},{key:"resizeEnd",value:function(e){this.resizing&&(this.resizing=!1,K.a.removeClass(document.body,"ui-unselectable-text"),this.onResizeEnd.emit(e))}},{key:"bindGlobalListeners",value:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}},{key:"unbindGlobalListeners",value:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}},{key:"bindDocumentDragListener",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.documentDragListener=e.onDrag.bind(e),window.document.addEventListener("mousemove",e.documentDragListener)}))}},{key:"unbindDocumentDragListener",value:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}},{key:"bindDocumentDragEndListener",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.documentDragEndListener=e.endDrag.bind(e),window.document.addEventListener("mouseup",e.documentDragEndListener)}))}},{key:"unbindDocumentDragEndListener",value:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},{key:"bindDocumentResizeListeners",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.documentResizeListener=e.onResize.bind(e),e.documentResizeEndListener=e.resizeEnd.bind(e),window.document.addEventListener("mousemove",e.documentResizeListener),window.document.addEventListener("mouseup",e.documentResizeEndListener)}))}},{key:"unbindDocumentResizeListeners",value:function(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}},{key:"bindDocumentEscapeListener",value:function(){var e=this;this.documentEscapeListener=this.renderer.listen("document","keydown",(function(t){27==t.which&&parseInt(e.container.style.zIndex)===K.a.zindex+e.baseZIndex&&e.close(t)}))}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):K.a.appendChild(this.wrapper,this.appendTo))}},{key:"restoreAppend",value:function(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}},{key:"onAnimationStart",value:function(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.onShow.emit({}),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&K.a.addClass(document.body,"ui-overflow-hidden"),this.focusOnShow&&this.focus()}}},{key:"onAnimationEnd",value:function(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({})}}},{key:"onContainerDestroy",value:function(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(K.a.removeClass(document.body,"ui-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&K.a.removeClass(document.body,"ui-overflow-hidden"),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}},{key:"ngOnDestroy",value:function(){this.container&&(this.restoreAppend(),this.onContainerDestroy())}},{key:"positionLeft",get:function(){return 0},set:function(e){console.log("positionLeft property is deprecated.")}},{key:"positionTop",get:function(){return 0},set:function(e){console.log("positionTop property is deprecated.")}},{key:"responsive",get:function(){return!1},set:function(e){console.log("Responsive property is deprecated.")}},{key:"breakpoint",get:function(){return 649},set:function(e){console.log("Breakpoint property is not utilized and deprecated, use CSS media queries instead.")}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}},{key:"style",get:function(){return this._style},set:function(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}},{key:"position",get:function(){return this._position},set:function(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}}]),e}()).\u0275fac=function(e){return new(e||me)(r.Kb(r.l),r.Kb(r.E),r.Kb(r.A),r.Kb(r.h))},me.\u0275cmp=r.Eb({type:me,selectors:[["p-dialog"]],contentQueries:function(e,t,i){var n;1&e&&(r.Db(i,l.c,!1),r.Db(i,l.b,!1)),2&e&&(r.qc(n=r.Yb())&&(t.headerFacet=n),r.qc(n=r.Yb())&&(t.footerFacet=n))},viewQuery:function(e,t){var i;1&e&&(r.Dc(G,!0),r.Dc(J,!0),r.Dc($,!0)),2&e&&(r.qc(i=r.Yb())&&(t.headerViewChild=i.first),r.qc(i=r.Yb())&&(t.contentViewChild=i.first),r.qc(i=r.Yb())&&(t.footerViewChild=i.first))},inputs:{draggable:"draggable",resizable:"resizable",closeOnEscape:"closeOnEscape",closable:"closable",showHeader:"showHeader",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",positionLeft:"positionLeft",positionTop:"positionTop",responsive:"responsive",breakpoint:"breakpoint",visible:"visible",style:"style",position:"position",header:"header",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",dismissableMask:"dismissableMask",rtl:"rtl",appendTo:"appendTo",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maximizable:"maximizable"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd"},ngContentSelectors:ge,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],["class","ui-dialog-footer ui-widget-content",4,"ngIf"],["class","ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"ui-dialog-titlebar","ui-widget-header","ui-helper-clearfix","ui-corner-top",3,"mousedown"],["titlebar",""],["class","ui-dialog-title",4,"ngIf"],[1,"ui-dialog-titlebar-icons"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"ui-dialog-title"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter"],[1,"ui-dialog-footer","ui-widget-content"],["footer",""],[1,"ui-resizable-handle","ui-resizable-se","ui-icon","ui-icon-gripsmall-diagonal-se",2,"z-index","90",3,"mousedown"]],template:function(e,t){1&e&&(r.ec(fe),r.yc(0,be,2,16,"div",0)),2&e&&r.fc("ngIf",t.maskVisible)},directives:[n.m,n.k,Y,n.n],encapsulation:2,data:{animation:[Object(Z.m)("animation",[Object(Z.l)("void => visible",[Object(Z.n)(ye)]),Object(Z.l)("visible => void",[Object(Z.n)(Se)])])]}}),me),we=((pe=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:pe}),pe.\u0275inj=r.Hb({factory:function(e){return new(e||pe)},imports:[[n.b,j],l.f]}),pe);function Pe(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"th",51),r.Ac(2,"Descri\xe7\xe3o"),r.Pb(),r.Qb(3,"th",52),r.Ac(4,"Valor"),r.Pb(),r.Lb(5,"th",53),r.Pb())}function Ee(e,t){if(1&e){var i=r.Rb();r.Qb(0,"tr",54),r.Qb(1,"td"),r.Ac(2),r.Pb(),r.Qb(3,"td"),r.Ac(4),r.ac(5,"currency"),r.Pb(),r.Qb(6,"td"),r.Qb(7,"a",55),r.Xb("click",(function(){r.sc(i);var e=t.$implicit,n=t.rowIndex;return r.Zb().prepararEdicaoServico(e,n)})),r.Qb(8,"i",56),r.Ac(9,"edit"),r.Pb(),r.Pb(),r.Qb(10,"button",57),r.Xb("click",(function(){r.sc(i);var e=t.rowIndex;return r.Zb().removerServico(e)})),r.Qb(11,"i",56),r.Ac(12,"delete_forever"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){var n=t.$implicit;r.zb(2),r.Bc(n.descricao),r.zb(2),r.Bc(r.bc(5,2,n.valor,"BRL"))}}function Ce(e,t){1&e&&(r.Qb(0,"tr"),r.Qb(1,"td",58),r.Ac(2,"Nenhuma Servi\xe7o encontrado..."),r.Pb(),r.Pb())}var Me=function(){return{prefix:"R$",thousands:".",decimal:",",allowNegative:!1}};function Re(e,t){if(1&e){var i=r.Rb();r.Qb(0,"p-dialog",59),r.Xb("visibleChange",(function(e){return r.sc(i),r.Zb().exibindoFormularioServico=e})),r.Qb(1,"form",2,60),r.Xb("ngSubmit",(function(){r.sc(i);var e=r.rc(2);return r.Zb().confirmarServico(e)})),r.Qb(3,"div",61),r.Qb(4,"input",62,19),r.Xb("ngModelChange",(function(e){return r.sc(i),r.Zb().servico.descricao=e})),r.Pb(),r.Qb(6,"label"),r.Ac(7," Descri\xe7\xe3o "),r.Pb(),r.Lb(8,"app-message",63),r.Lb(9,"app-message",13),r.Pb(),r.Qb(10,"div",64),r.Qb(11,"input",65,32),r.Xb("ngModelChange",(function(e){return r.sc(i),r.Zb().servico.valor=e})),r.Pb(),r.Qb(13,"label"),r.Ac(14," Valor "),r.Pb(),r.Lb(15,"app-message",66),r.Pb(),r.Qb(16,"div",4),r.Qb(17,"button",48),r.Qb(18,"i",40),r.Ac(19,"send"),r.Pb(),r.Ac(20),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){var n=r.rc(2),o=r.rc(5),a=r.rc(12),s=r.Zb();r.fc("header",s.editandoServico?"Editar Servi\xe7o":"Novo Servi\xe7o")("visible",s.exibindoFormularioServico),r.zb(4),r.fc("ngModel",s.servico.descricao),r.zb(4),r.fc("control",o),r.zb(1),r.gc("text","M\xednimo de ",null==o.errors||null==o.errors.minlength?null:o.errors.minlength.requiredLength," caracteres!"),r.fc("control",o),r.zb(2),r.fc("ngModel",s.servico.valor)("options",r.hc(11,Me)),r.zb(4),r.fc("control",a),r.zb(2),r.fc("disabled",!n.valid),r.zb(3),r.Cc(" ",s.editandoServico?"Alterar":"Adicionar"," ")}}var ze,xe,Ae,Qe=((ze=function(){function e(t,i,n,o,a,s,r,l,c){_classCallCheck(this,e),this.osService=t,this.statusService=i,this.categoriaService=n,this.pessoaService=o,this.messageService=a,this.errorHandler=s,this.router=r,this.actRoute=l,this.title=c,this.ordemServico=new z.a,this.exibindoFormularioServico=!1,this.valorTotal=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.title.setTitle("Nova OS");var e=this.actRoute.snapshot.params.os;e&&this.carregarOs(e),this.carregarStatus(),this.carregarCategorias(),this.carregarPessoas()}},{key:"carregarStatus",value:function(){var e=this;this.statusService.listarStatus().then((function(t){e.listaStatus=t.map((function(e){return{label:e.descricao,value:e.id}}))})).catch((function(t){return e.errorHandler.handle(t)}))}},{key:"carregarCategorias",value:function(){var e=this;this.categoriaService.listarCategorias().then((function(t){e.categorias=t.map((function(e){return{label:e.nome,value:e.id}}))})).catch((function(t){return e.errorHandler.handle(t)}))}},{key:"carregarPessoas",value:function(){var e=this;this.pessoaService.listarTodos().then((function(t){e.pessoas=t.content.map((function(e){return{label:e.nome,value:e.id}}))})).catch((function(t){return e.errorHandler.handle(t)}))}},{key:"carregarOs",value:function(e){var t=this;this.osService.buscarOsPorId(e).then((function(e){t.ordemServico=e,t.carregarStatus(),t.carregarPessoas(),t.carregarCategorias(),t.atualizarTituloEdicao()}))}},{key:"novo",value:function(e){e.reset(),setTimeout((function(){this.ordemServico=new z.a}).bind(this),1),this.router.navigate(["/ordem-servicos/novo"])}},{key:"salvar",value:function(e){this.editando?this.atualizar(e):this.adicionar(e)}},{key:"adicionar",value:function(e){var t=this;this.osService.adicionarOs(this.ordemServico).then((function(e){t.messageService.add({severity:"success",detail:"OS adicionada com sucesso."}),t.router.navigate(["/ordem-servicos",e.os])})).catch((function(e){return t.errorHandler.handle(e)}))}},{key:"atualizar",value:function(e){var t=this;this.osService.atualizarOs(this.ordemServico).then((function(e){t.ordemServico=e,t.messageService.add({severity:"success",detail:"OS atualizada com sucesso."}),t.atualizarTituloEdicao()})).catch((function(e){return t.errorHandler.handle(e)}))}},{key:"atualizarTituloEdicao",value:function(){this.title.setTitle("Edi\xe7\xe3o de OS: "+this.ordemServico.os)}},{key:"executarDatePicker",value:function(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".datepicker");a.Datepicker.init(e,{format:"yyyy-mm-dd",i18n:{labelMonthNext:"Pr\xf3ximo m\xeas",months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Ma","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],weekdaysAbbrev:["D","S","T","Q","Q","S","S"],cancel:"Cancelar"}})}))}},{key:"prepararNovoServico",value:function(){this.ordemServico.valor=0,this.exibindoFormularioServico=!0,this.servico=new z.c,this.servicoIndex=this.ordemServico.servicos.length}},{key:"confirmarServico",value:function(e){this.ordemServico.servicos[this.servicoIndex]=this.clonarServico(this.servico),this.exibindoFormularioServico=!1,this.somarValor(),e.reset()}},{key:"prepararEdicaoServico",value:function(e,t){this.ordemServico.valor=0,this.servico=this.clonarServico(e),this.exibindoFormularioServico=!0,this.servicoIndex=t}},{key:"removerServico",value:function(e){this.ordemServico.valor=0,this.ordemServico.servicos.splice(e,1),this.somarValor()}},{key:"somarValor",value:function(){var e=this;this.ordemServico.servicos.forEach((function(t){return e.ordemServico.valor=Number(e.ordemServico.valor)+Number(t.valor)}))}},{key:"clonarServico",value:function(e){return new z.c(e.id,e.descricao,e.valor)}},{key:"editando",get:function(){return Boolean(this.ordemServico.os)}},{key:"editandoServico",get:function(){return this.servico&&this.servico.id}}]),e}()).\u0275fac=function(e){return new(e||ze)(r.Kb(s.b),r.Kb(Q),r.Kb(I.a),r.Kb(O.b),r.Kb(l.d),r.Kb(c.a),r.Kb(o.b),r.Kb(o.a),r.Kb(L.b))},ze.\u0275cmp=r.Eb({type:ze,selectors:[["app-os-cadastro"]],decls:98,vars:28,consts:[[1,"container"],[1,"row"],[3,"ngSubmit"],["formOs","ngForm"],[1,"col","s12"],[1,"col","s6","l3"],[1,"font-label"],["name","status","placeholder","Selecione...","required","",3,"ngModel","options","ngModelChange"],["status","ngModel"],[1,"input-field","col","s12","l8","offset-l4","pull-l4"],["type","text","name","equipamento","required","","minlength","5","maxlength","50",3,"ngModel","ngModelChange"],["equipamento","ngModel"],["error","required","text","equipamento \xe9 obrigat\xf3rio!",3,"control"],["error","minlength",3,"control","text"],["name","pessoa","placeholder","Selecione...","filter","true","required","",3,"ngModel","options","ngModelChange"],["pessoa","ngModel"],["name","categoria","placeholder","Selecione...","required","",3,"ngModel","options","ngModelChange"],["categoria","ngModel"],["name","descricao","pTooltip","Decreva o estado f\xedsico do equipamento","tooltipPosition","top",1,"materialize-textarea",3,"ngModel","ngModelChange"],["descricao","ngModel"],["type","text","name","defeito","required","","minlength","5",3,"ngModel","ngModelChange"],["defeito","ngModel"],["error","required","text","Campo defeito \xe9 obrigat\xf3rio!",3,"control"],["type","date","name","dataRecebimento","required","",3,"ngModel","ngModelChange"],["dataRecebimento","ngModel"],["for",""],["error","required","text","Data de Recebimento \xe9 obrigatorio!",3,"control"],[1,"col","s6","l3","offset-l6","pull-l6"],["type","date","name","dataEntrega",3,"ngModel","ngModelChange"],["dataEntrega","ngModel"],[1,"input-field","col","s6","l2","offset-l4","pull-l4"],["type","text","id","valor","name","valor","pTooltip","Valor do conserto","tooltipPosition","top","currencyMask","","readonly","",3,"ngModel","options","ngModelChange"],["valor","ngModel"],["name","laudo",1,"materialize-textarea",3,"ngModel","ngModelChange"],["laudo","ngModel"],["type","text","name","garantia",3,"ngModel","ngModelChange"],["garantia","ngModel"],[1,"col","s12",2,"margin-bottom","10px"],["header","Servi\xe7os"],["type","button","onclick","limpar()",1,"botao-margin-servicos","btn","waves-effect","waves-light","btn-small",3,"click"],[1,"material-icons","right"],[3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["modal","modal",3,"header","visible","visibleChange",4,"ngIf"],[1,"col","s4","l2"],["type","button",1,"btn","waves-effect","waves-light","btn-small",3,"click"],["type","submit",1,"btn","waves-effect","waves-light","btn-small",3,"disabled"],[1,"col","s4","l2","offset-l2"],["routerLink","/ordem-servicos",1,"botao-margin-voltar","btn","waves-effect","waves-light","btn-small"],[1,"td-nome-os"],[1,"td-status-os"],[1,"td-botoes-os"],[1,"linha-body"],["pTooltip","Editar","tooltipPosition","top","onclick","limpar()",1,"btn","waves-effect","waves-light","btn-medium",3,"click"],[1,"material-icons","center"],["pTooltip","Excluir","tooltipPosition","bottom","onclick","limpar()",1,"td-botoes-margin","btn","waves-effect","waves-light","btn-medium",3,"click"],["colspan","3"],["modal","modal",3,"header","visible","visibleChange"],["formServico","ngForm"],[1,"input-field","col","s12"],["type","text","name","descricao","required","","minlength","5",3,"ngModel","ngModelChange"],["error","required","text","Informe uma descri\xe7\xe3o do servi\xe7o",3,"control"],[1,"input-field","col","s4"],["type","text","name","valor","currencyMask","","required","",3,"ngModel","options","ngModelChange"],["error","required","text","Informe o valor do servi\xe7o.",3,"control"]],template:function(e,t){if(1&e){var i=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"form",2,3),r.Xb("ngSubmit",(function(){r.sc(i);var e=r.rc(3);return t.salvar(e)})),r.Qb(4,"div",1),r.Qb(5,"div",4),r.Qb(6,"h1"),r.Ac(7),r.Pb(),r.Pb(),r.Qb(8,"div",5),r.Qb(9,"label",6),r.Ac(10," Status: "),r.Pb(),r.Qb(11,"p-dropdown",7,8),r.Xb("ngModelChange",(function(e){return t.ordemServico.status.id=e})),r.Pb(),r.Pb(),r.Qb(13,"div",9),r.Qb(14,"input",10,11),r.Xb("ngModelChange",(function(e){return t.ordemServico.equipamento=e})),r.Pb(),r.Qb(16,"label"),r.Ac(17," Equipamento "),r.Pb(),r.Lb(18,"app-message",12),r.Lb(19,"app-message",13),r.Pb(),r.Qb(20,"div",5),r.Qb(21,"label",6),r.Ac(22," Pessoa: "),r.Pb(),r.Qb(23,"p-dropdown",14,15),r.Xb("ngModelChange",(function(e){return t.ordemServico.pessoa.id=e})),r.Pb(),r.Pb(),r.Qb(25,"div",5),r.Qb(26,"label",6),r.Ac(27," Categoria: "),r.Pb(),r.Qb(28,"p-dropdown",16,17),r.Xb("ngModelChange",(function(e){return t.ordemServico.categoria.id=e})),r.Pb(),r.Pb(),r.Qb(30,"div",9),r.Qb(31,"textarea",18,19),r.Xb("ngModelChange",(function(e){return t.ordemServico.descricao=e})),r.Pb(),r.Qb(33,"label"),r.Ac(34," Descri\xe7\xe3o "),r.Pb(),r.Pb(),r.Qb(35,"div",9),r.Qb(36,"input",20,21),r.Xb("ngModelChange",(function(e){return t.ordemServico.defeito=e})),r.Pb(),r.Qb(38,"label"),r.Ac(39," Defeito "),r.Pb(),r.Lb(40,"app-message",22),r.Lb(41,"app-message",13),r.Pb(),r.Qb(42,"div",5),r.Qb(43,"input",23,24),r.Xb("ngModelChange",(function(e){return t.ordemServico.dataRecebimento=e})),r.Pb(),r.Qb(45,"label",25),r.Ac(46,"Data de Recebimento"),r.Pb(),r.Lb(47,"app-message",26),r.Pb(),r.Qb(48,"div",27),r.Qb(49,"input",28,29),r.Xb("ngModelChange",(function(e){return t.ordemServico.dataEntrega=e})),r.Pb(),r.Qb(51,"label",25),r.Ac(52,"Data de Entrega"),r.Pb(),r.Pb(),r.Qb(53,"div",30),r.Qb(54,"input",31,32),r.Xb("ngModelChange",(function(e){return t.ordemServico.valor=e})),r.Pb(),r.Qb(56,"label"),r.Ac(57," Valor "),r.Pb(),r.Pb(),r.Qb(58,"div",9),r.Qb(59,"textarea",33,34),r.Xb("ngModelChange",(function(e){return t.ordemServico.laudoTecnico=e})),r.Pb(),r.Qb(61,"label"),r.Ac(62," Laudo t\xe9cnico "),r.Pb(),r.Pb(),r.Qb(63,"div",30),r.Qb(64,"input",35,36),r.Xb("ngModelChange",(function(e){return t.ordemServico.garantia=e})),r.Pb(),r.Qb(66,"label"),r.Ac(67," Garantia "),r.Pb(),r.Pb(),r.Pb(),r.Qb(68,"div",1),r.Qb(69,"div",37),r.Qb(70,"p-panel",38),r.Qb(71,"div",4),r.Qb(72,"button",39),r.Xb("click",(function(){return t.prepararNovoServico()})),r.Qb(73,"i",40),r.Ac(74,"add_circle"),r.Pb(),r.Ac(75," novo "),r.Pb(),r.Pb(),r.Qb(76,"div",1),r.Qb(77,"div",4),r.Qb(78,"p-table",41),r.yc(79,Pe,6,0,"ng-template",42),r.yc(80,Ee,13,5,"ng-template",43),r.yc(81,Ce,3,0,"ng-template",44),r.Pb(),r.Pb(),r.Pb(),r.yc(82,Re,21,12,"p-dialog",45),r.Pb(),r.Pb(),r.Qb(83,"div",46),r.Qb(84,"button",47),r.Xb("click",(function(){r.sc(i);var e=r.rc(3);return t.novo(e)})),r.Qb(85,"i",40),r.Ac(86,"person_add"),r.Pb(),r.Ac(87," Nova OS "),r.Pb(),r.Pb(),r.Qb(88,"div",46),r.Qb(89,"button",48),r.Qb(90,"i",40),r.Ac(91,"send"),r.Pb(),r.Ac(92," Salvar "),r.Pb(),r.Pb(),r.Qb(93,"div",49),r.Qb(94,"a",50),r.Qb(95,"i",40),r.Ac(96,"subdirectory_arrow_left"),r.Pb(),r.Ac(97," Voltar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){var n=r.rc(3),o=r.rc(15),a=r.rc(37),s=r.rc(44);r.zb(7),r.Cc(" ",t.editando?"Edi\xe7\xe3o de":"Nova"," Ordem de Servi\xe7o "),r.zb(4),r.fc("ngModel",t.ordemServico.status.id)("options",t.listaStatus),r.zb(3),r.fc("ngModel",t.ordemServico.equipamento),r.zb(4),r.fc("control",o),r.zb(1),r.gc("text","M\xednimo de ",null==o.errors||null==o.errors.minlength?null:o.errors.minlength.requiredLength," caracteres!"),r.fc("control",o),r.zb(4),r.fc("ngModel",t.ordemServico.pessoa.id)("options",t.pessoas),r.zb(5),r.fc("ngModel",t.ordemServico.categoria.id)("options",t.categorias),r.zb(3),r.fc("ngModel",t.ordemServico.descricao),r.zb(5),r.fc("ngModel",t.ordemServico.defeito),r.zb(4),r.fc("control",a),r.zb(1),r.gc("text","M\xednimo de ",null==a.errors||null==a.errors.minlength?null:a.errors.minlength.requiredLength," caracteres!"),r.fc("control",a),r.zb(2),r.fc("ngModel",t.ordemServico.dataRecebimento),r.zb(4),r.fc("control",s),r.zb(2),r.fc("ngModel",t.ordemServico.dataEntrega),r.zb(5),r.fc("ngModel",t.ordemServico.valor)("options",r.hc(27,Me)),r.zb(5),r.fc("ngModel",t.ordemServico.laudoTecnico),r.zb(5),r.fc("ngModel",t.ordemServico.garantia),r.zb(14),r.fc("value",t.ordemServico.servicos)("responsive",!0),r.zb(4),r.fc("ngIf",t.servico),r.zb(7),r.fc("disabled",!n.valid)}},directives:[d.l,d.h,d.i,_.a,d.k,d.g,d.j,d.a,d.e,d.d,V.a,b.a,q,H.a,h.a,l.e,n.m,o.d,ke],pipes:[n.c],styles:[""]}),ze),Ie=i("AQzz"),Oe=[{path:"",component:R,canActivate:[Ie.a],data:{roles:["ROLE_PESQUISAR_OS"]}},{path:"novo",component:Qe,canActivate:[Ie.a],data:{roles:["ROLE_CADASTRAR_OS"]}},{path:":os",component:Qe,canActivate:[Ie.a],data:{roles:["ROLE_CADASTRAR_OS"]}}],Le=((xe=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:xe}),xe.\u0275inj=r.Hb({factory:function(e){return new(e||xe)},imports:[[n.b,o.e.forChild(Oe)],o.e]}),xe),_e=i("PCNd"),Ve=((Ae=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:Ae}),Ae.\u0275inj=r.Hb({factory:function(e){return new(e||Ae)},imports:[[n.b,d.c,Le,_e.a,U,_.b,h.b,b.b,H.b,we]]}),Ae)}}]);